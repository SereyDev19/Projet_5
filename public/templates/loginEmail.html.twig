{% extends 'layout.html.twig' %}

{% block links %}
    <link href="css/styles-connexion.css" rel="stylesheet">
{% endblock %}

{% block content %}
    <div class="row col-sm-12">
        <a class="text-white" href="index.php"><img id="logo" alt="logo" src="images/LOGOreportmeWHITE.png"></a>
    </div>
    <div id="container">
        <div class="row col-sm-12">
            <a class="text-white" href="index.php"><i class="fas fa-arrow-left"></i>Retour vers l'accueil</a>
        </div>
        <form action="admin.php" method="POST">
            <div class="logo">
                <a class="text-white" href="index.php"><img class="logo" alt="logo" src="images/LOGOreportme.png"></a>
            </div>
            <h1>Connexion</h1>

            <label for="email" data-toggle="tooltip" data-placement="top"
                   title="E-mail que vous avez renseignÃ© lors de votre enregistrement"><b>E-mail</b> <i
                        class="fas fa-question-circle"></i></label>
            {% if  email %}
                {#                <input type="email" value="{{ email }}" name="email" id="email"#}
                {#                       pattern=" /^[^\W][a-zA-Z0-9_]+(\.[a-zA-Z0-9_]+)*\@[a-zA-Z0-9_]+(\.[a-zA-Z0-9_]+)*\.[a-zA-Z]{2,4}$/ "#}
                {#                       required>#}
                <input type="email" value="{{ email }}" name="email" id="email" required>
            {% else %}
                {#                <input type="email" placeholder="Entrer votre e-mail" name="email" id="email"#}
                {#                       pattern=" /^[^\W][a-zA-Z0-9_]+(\.[a-zA-Z0-9_]+)*\@[a-zA-Z0-9_]+(\.[a-zA-Z0-9_]+)*\.[a-zA-Z]{2,4}$/ "#}
                {#                       required>#}
                <input type="email" placeholder="Entrer votre e-mail" name="email" id="email"
                       required>
                <span class="error" aria-live="polite"></span> <br>

            {% endif %}
            <label for="password"><b>Mot de passe</b></label>
            <input type="password" placeholder="Entrer le mot de passe" name="password" id="password" required>

            {% if email %}
                <input type="submit" id='submit' name='logIn' value='Connexion'>
            {% else %}
                <input type="submit" id='submit' name='logIn' class="disabled" disabled value='Connexion'>
            {% endif %}
        </form>
    </div>
{% endblock %}

{% block scripts %}
    <script>
        {% if email %}

        {% else %}
        var checkValidity = new CheckValidity("email");
        checkValidity.check();
        {% endif %}
    </script>

{% endblock %}